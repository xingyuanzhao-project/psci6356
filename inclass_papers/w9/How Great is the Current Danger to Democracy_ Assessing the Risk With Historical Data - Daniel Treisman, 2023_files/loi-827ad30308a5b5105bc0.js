(window.webpackJsonp=window.webpackJsonp||[]).push([[35],{251:function(t,e){self.fetch||(self.fetch=function(t,e){return e=e||{},new Promise((function(i,n){var o=new XMLHttpRequest,r=[],l=[],s={},c=function a(){return{ok:2==(o.status/100|0),statusText:o.statusText,status:o.status,url:o.responseURL,text:function text(){return Promise.resolve(o.responseText)},json:function json(){return Promise.resolve(o.responseText).then(JSON.parse)},blob:function blob(){return Promise.resolve(new Blob([o.response]))},clone:c,headers:{keys:function keys(){return r},entries:function entries(){return l},get:function get(t){return s[t.toLowerCase()]},has:function has(t){return t.toLowerCase()in s}}}};for(var d in o.open(e.method||"get",t,!0),o.onload=function(){o.getAllResponseHeaders().replace(/^(.*?):[^\S\n]*([\s\S]*?)$/gm,(function(t,e,i){r.push(e=e.toLowerCase()),l.push([e,i]),s[e]=s[e]?s[e]+","+i:i})),i(c())},o.onerror=n,o.withCredentials="include"==e.credentials,e.headers)o.setRequestHeader(d,e.headers[d]);o.send(e.body||null)}))})},859:function(t,e,i){"use strict";i.r(e);var n,o,r;i(251);n=$("body"),o=$(window),(r={$wrapper:null,$list:null,$loiHolder:null,$controls:null,$nextBtn:null,$prevBtn:null,$listItem:null,revers:!1,isTouched:!1,pointerPosition:0,cumulativeShift:0,isMobile:!1,vPort:"screen-sm",year:null,widgetId:null,pagecontext:null,doi:null,decade:null,wrapper:$(".loi-wrapper[data-order]"),targetPane:null,url:"/specs/products/ux3/widgets/list-of-issues/templates/list-of-issues/ajax/2009.html",isNewLoi:!1,init:function init(){r.$wrapper=$(".swipe__wrapper"),r.$list=$(".loi__list"),r.$loiHolder=$(".dropBlock-loi__holder"),r.$controls='<div class="loi-list__controls"><span class="loi__btn--prev"><i class="icon-arrow_l" aria-hidden="true"></i></span><span class="loi__btn--next"><i class="icon-arrow_r" aria-hidden="true"></i></span></div>',r.isNewLoi=$(".loi-wrapper").hasClass("list-of-issues-detailed"),r.addtionalInitialization(),r.on.build(),r.set.itemWidth($(this)),r.control(),r.addtionalControls(),o.on("resized",(function(){r.on.rebuild()})),$(".loi__archive").addClass("event-init"),r.on.pageLoad()},addtionalInitialization:function addtionalInitialization(){},ajaxResponse:function ajaxResponse(){},control:function control(){r.$list.on("click","a",(function(t){r.$listItem=$(this),r.on.select()})),n.on("click",".loi__btn--prev",(function(){r.$prevBtn=$(this),r.on.prev()})),n.on("click",".loi__btn--next",(function(){r.$nextBtn=$(this),r.on.next()})),n.on("touchmove",(function(t){r.on.touch.move(t)})),r.responsiveController(),r.isNewLoi&&(r.setActiveTabsInView(),n.on("click",".list-of-issues-detailed .loi__list a",(function(t){t.preventDefault();var e=$(this),i=e.data("target")?e.data("target"):e.attr("href");$(i).hasClass("nested-tab")&&setTimeout((function(){var t="> .loi > .swipe__wrapper .tab__nav";r.on.recalculate($(i).find(t)),$(i).find(".tab__pane.active").find(t).each((function(){r.on.recalculate($(this))}))}),50);var n=e.data("target"),o=$(n),l=o.find(".tab__nav"),s=o.parents(".loi-wrapper").length&&"ascendingOrder"===o.parents(".loi-wrapper").data("order")?"last":"first";if(o.length&&l.length){var c=o.find(".tab__nav").find("li:"+s+"-of-type a"),d=c.data("target")?c.data("target"):c.attr("href"),p=$("[data-target='"+d+"'], [href='"+d+"']");p.click();var u=p.parent().parent().closest(".scroll");r.scrollToActiveLinkInTabList(u)}else r.wrapper=e.closest(".loi-wrapper"),r.get.activeLink(e),r.set.historyState(e),r.link&&"ajax"===$(".list-of-issues-detailed").attr("data-ajax")&&r.load.ajax()}))),r.isNewLoi||(n.on("click",".tab__nav a",(function(){var t=$(this),e=t.data("target")?t.data("target"):t.attr("href");$(e).hasClass("nested-tab")&&setTimeout((function(){var t="> .loi > .swipe__wrapper .tab__nav";r.on.recalculate($(e).find(t)),$(e).find(".tab__pane.active").find(t).each((function(){r.on.recalculate($(this))}))}),50)})),n.on("click",".loi__list a",(function(){r.wrapper=$(this).closest(".loi-wrapper"),0===r.wrapper.length&&(r.wrapper=$(".loi-wrapper")),$(this).closest(".tab__pane").length?(r.get.activeDecade($(this)),r.get.year($(this))):(r.get.decade($(this)),r.get.activeYear($(this))),r.get.doi(),r.get.pagecontext(),r.get.url(),"decade"===(r.wrapper.find(".dropBlock-loi__holder").length?r.wrapper.find(".dropBlock-loi__holder").attr("data-grouptype"):r.wrapper.attr("data-grouptype"))&&r.year&&r.decade&&r.pagecontext&&r.doi&&r.load.ajax()})))},responsiveController:function responsiveController(){$(document).on(r.vPort+"-on",(function(){r.isMobile=!0,$(".loi").addClass("loi--res"),$(".loi__banner").addClass("loi--res"),$(".corrections-container__label").length>0&&$(".corrections-container__label").addClass("w-slide__btn slide-active"),r.setActiveTabsInView()})),$(document).on(r.vPort+"-off",(function(){r.isMobile=!1,$(".loi").removeClass("loi--res"),$(".loi__banner").removeClass("loi--res"),$(".corrections-container__label").length>0&&$(".corrections-container__label").removeClass("w-slide__btn slide-active"),r.setActiveTabsInView()}))},scrollToActiveLinkInTabList:function scrollToActiveLinkInTabList(t){setTimeout((function(){var e=t.find(".tab__nav li.active");if(!(e[0].getBoundingClientRect().left>=t[0].getBoundingClientRect().left&&e[0].getBoundingClientRect().right<=t[0].getBoundingClientRect().right)){var i=t[0].getBoundingClientRect().right-e[0].getBoundingClientRect().right,n=e[0].getBoundingClientRect().left-t[0].getBoundingClientRect().left,o=n>=0?t.scrollLeft()-i+28:t.scrollLeft()+n-28;t.animate({scrollLeft:o},400)}}),50)},setActiveTabsInView:function setActiveTabsInView(){r.$list.filter(":visible").each((function(t,e){var i=$(e).parent();r.scrollToActiveLinkInTabList(i)}))},addtionalControls:function addtionalControls(){},on:{select:function select(){var t=r.$listItem.closest(".swipe__wrapper"),e=t.find(".loi__list");r.$list=e,r.$nextBtn=t.find(".loi__btn--next"),r.$prevBtn=t.find(".loi__btn--prev"),r.$scroll=r.$list.closest(".scroll");var i=r.$listItem.offset().left,n=r.$nextBtn.offset().left,o=r.$prevBtn.offset().left;i>n-r.$listItem.outerWidth()?r.$scroll.stop().animate({scrollLeft:"+="+r.$listItem.outerWidth()},500,"linear",(function(){r.on.activeArrows(e)})):i<o+r.$prevBtn.outerWidth()&&r.$scroll.stop().animate({scrollLeft:"-="+r.$listItem.outerWidth()},500,"linear",(function(){r.on.activeArrows(e)}))},next:function next(){r.$list=r.$nextBtn.closest(".swipe__wrapper").find(".loi__list"),r.$prevBtn=r.$list.closest(".loi-list__wrapper").find(".loi__btn--prev"),r.$scroll=r.$list.closest(".scroll"),r.$nextBtn.hasClass("inactive")||r.$scroll.stop().animate({scrollLeft:"+="+r.get.shiftSize()},400,"linear",(function(){r.on.activeArrows()}))},prev:function prev(){r.$list=r.$prevBtn.closest(".swipe__wrapper").find(".loi__list"),r.$nextBtn=r.$list.closest(".loi-list__wrapper").find(".loi__btn--next"),r.$scroll=r.$list.closest(".scroll"),r.$scroll.stop().animate({scrollLeft:"-="+r.get.shiftSize()},400,"linear",(function(){r.on.activeArrows()}))},touch:{move:function move(t){($(t.target).closest(".loi__list").length||$(t.target).hasClass("loi__list"))&&(r.$list=$(t.target).closest(".loi__list"),r.$wrapper=$(t.target).closest(".loi-list__wrapper"),r.$nextBtn=$(t.target).closest(".loi-list__wrapper").find(".loi__btn--next"),r.$prevBtn=$(t.target).closest(".loi-list__wrapper").find(".loi__btn--prev"),r.on.activeArrows())}},escape:function escape(){},tab:function tab(){},tabRevers:function tabRevers(){},activeArrows:function activeArrows(t){var e=null!=t?t:r.$list,i=e.closest(".scroll"),n=e.closest(".swipe__wrapper"),o=i.css("direction"),l=n.find("ltr"===o?".loi__btn--prev":".loi__btn--next"),s=n.find("ltr"===o?".loi__btn--next":".loi__btn--prev"),c=n.width()-l.width(),d=parseInt(c-i.width()+(e.width()-c)),p=Math.abs(i.scrollLeft());p>d?s.addClass("inactive"):s.removeClass("inactive"),p>1?l.removeClass("inactive"):l.addClass("inactive")},build:function build(){r.$wrapper=r.$list.closest(".swipe__wrapper"),r.$wrapper.addClass("loi-list__wrapper"),r.$list.each((function(t){$(this).width()>r.$wrapper.width()&&$(this).closest(".swipe__wrapper").prepend(r.$controls),r.set.defaultInActiveControl()})),r.$nextBtn=$(".loi__btn--next"),r.$prevBtn=$(".loi__btn--prev"),$(".journal-home").length&&(r.vPort="screen-md"),$(".loi__list:visible").each((function(){r.set.itemWidth($(this)),r.on.recalculate($(this))}))},rebuild:function rebuild(){$(".loi-list__controls").remove(),r.$list=$(".loi__list"),r.$list.each((function(t){$(this).width()>r.$wrapper.width()?($(this).closest(".swipe__wrapper").prepend(r.$controls),r.set.defaultInActiveControl()):$(this).closest(".swipe__wrapper").find(".loi-list__controls").remove()})),$(".loi__list:visible").each((function(){r.set.itemWidth($(this)),r.on.recalculate($(this))}))},recalculate:function recalculate(t){t.width(r.get.tabNavWidth(t)),r.$wrapper=t.closest(".swipe__wrapper").addClass("loi-list__wrapper"),r.get.tabNavWidth(t)>r.$wrapper.width()?0===t.closest(".swipe__wrapper").find(".loi-list__controls").length&&t.closest(".swipe__wrapper").prepend(r.$controls):t.closest(".swipe__wrapper").find(".loi-list__controls").remove()},pageLoad:function pageLoad(){var t=window.location.search.substr(1),e={};t.split("&").map((function(t){var i=t.split("=");e[i[0]]=i[1]})),r.$loiHolder.each((function(t,i){var n=$(i).attr("data-grouptype"),o=$(i).prev(".loi__banner-list"),r=window.innerWidth>parseInt(UX.grid.screenSm);if(e.year&&r)if("decade"===n){var l=$("[data-expand="+e.year+"]",i);if(l.length){var s=l.closest("li[role=tabpanel]").attr("id"),c=$("a[href$=#"+s+"]",i);$(".loi__archive",o).trigger("click"),c.length&&c.trigger("focus").trigger("click"),setTimeout((function(){l.trigger("focus").trigger("click")}),100)}}else"year"===n&&($(".loi__archive",o).trigger("click"),$("[data-expand="+e.year+"]",i).trigger("focus").trigger("click"));e.volume&&"volume"===n&&($(".loi__archive",o).trigger("click"),$("[data-expand="+e.volume+"]",i).trigger("click"))}))}},load:{},get:{tabNavWidth:function tabNavWidth(t){return t.find("li").outerWidth(!0)*t.find("li").length},year:function year(t){r.year=t.find("span").text(),r.targetPane=t.attr("href")},activeDecade:function activeDecade(t){var e=t.closest(".tab__pane").attr("aria-labelledby");r.decade=$("#"+e).data("decade")?$("#"+e).data("decade"):$("#"+e).find("span").text()},decade:function decade(t){r.decade=t.data("decade")?t.data("decade"):t.find("span").text()},activeYear:function activeYear(t){var e=t.attr("href");r.year=$(e).find(".loi__list").find(".active").find("span").text(),r.targetPane=$(e).find(".loi__list").find(".active").find("a").attr("href")},url:function url(){r.isNewLoi?(r.widgetId=$(".loi-wrapper").attr("data-db-parent-of"),void 0===r.widgetId&&(r.widgetId=r.wrapper.attr("data-widget-id")),r.url="/pb/widgets/loi/content?widgetId="+r.widgetId+"&pbContext="+r.pagecontext.replace(/#/g,"%23")+"&id="+r.link):(r.widgetId=r.wrapper.attr("data-db-parent-of"),void 0===r.widgetId&&(r.widgetId=r.wrapper.attr("data-widget-id")),r.url="/pb/widgets/loi/loiAjax?widgetId="+r.widgetId+"&pbContext="+r.pagecontext+"&doi="+r.doi+"&decadeRange="+r.decade+"&yearParam="+r.year)},doi:function doi(){r.doi=r.wrapper.attr("data-journal-doi")},pagecontext:function pagecontext(){r.pagecontext=encodeURI($("[name='pbContext']").attr("content"))},activeLink:function activeLink(t){var e,i;t.attr("data-url")?(e=t.attr("data-url"),i=t.data("target"),r.link=e,r.targetPane=$(i)):(e=t.attr("href"),i=$(e).find(".tab__nav .active a.empty"),r.targetPane=i.data("target")?i.data("target"):i.attr("href"),r.link=i.attr("data-url"))},isASC:function isASC(){var t;return null===(t=r.wrapper)||void 0===t?void 0:t.data("order").startsWith("ascending")},shiftSize:function shiftSize(){r.$scroll=r.$list.closest(".scroll"),r.$listItem=r.$list.find(".tab__nav__item");var t=!0===r.$list.data("one-step"),e=r.$listItem.outerWidth(!0),i=r.$scroll.width();return t?e:i}},set:{historyState:function historyState(t){var e=t.attr("href");e&&history.replaceState(null,"loi history",e)},defaultInActiveControl:function defaultInActiveControl(){var t,e=r.get.isASC()?"next":"prev",i=null!==(t=r["".concat(e,"Btn")])&&void 0!==t?t:$(".loi__btn--".concat(e));null==i||i.addClass("inactive")},itemWidth:function itemWidth(t){var e=t.find(".tab__nav__item"),i=t.parent(".scroll");if(!(r.get.tabNavWidth(t)<r.$wrapper.width())){var n=Math.floor(i.width()/e.outerWidth(!0)),o=i.width()/n;e.css("width",o+"px")}}},check:{viewPort:function viewPort(){$(".loi").each((function(){$(this).attr("data-ctrl-res")&&(r.vPort=$(this).attr("data-ctrl-res"))}))}}}).load.ajax=function(){var t=UX.loi.targetPane[0];if(!t||!t.childNodes.length){var e=document.querySelector(".tab__pane"),i={headers:{"accept-language":document.documentElement.lang||"en-US,en;q=0.9"}};r.isNewLoi&&(UX.loi.get.doi(),UX.loi.get.pagecontext(),UX.loi.get.url()),e&&(e.classList.remove("loading"),t.classList.add("loading")),fetch(UX.loi.url,i).then((function(e){e.text().then((function(e){t.innerHTML=e,t.classList.remove("loading"),r.ajaxResponse()}))})).catch((function(e){console.error(e),t.classList.remove("loading")}))}},UX.loi=r,function(t){t.loi.responsiveController=function(){}}(UX),function(t){var e=$("body"),i=$(window),n=(t||{}).loi;n.selectors=n.selectors||{},n.selectors.LOI_WRAPPER=".loi-wrapper",n.selectors.LOI_LIST=".loi__list",n.selectors.LOI_LIST_LINK=".loi__list a",n.selectors.LOI_ARCHIVE=".loi__archive",n.selectors.LOI_HOLDER=".dropBlock-loi__holder",n.selectors.TAB_NAV=".tab__nav",n.selectors.LAZY_IMAGES="img[data-src]",n.init=function(){n.$list=$(n.selectors.LOI_LIST),n.$loiHolder=$(n.selectors.LOI_HOLDER),n.isNewLoi=!0,n.addtionalInitialization(),n.control(),n.addtionalControls(),$(n.selectors.LOI_ARCHIVE).addClass("event-init"),i.load((function(){$(".loi__list:visible").each((function(){var t=$(this);setTimeout((function(){var e=t.find(".tab__nav__item__link.active");e[0].getBoundingClientRect().left>=t[0].parentNode.getBoundingClientRect().left&&e[0].getBoundingClientRect().right<=t[0].parentNode.getBoundingClientRect().right||e.focus()}),50)}))}))},n.control=function(){n.$list.on("click","a",(function(t){n.$listItem=$(this)})),n.setActiveTabsInView(),e.on("click",n.selectors.LOI_LIST_LINK,n.on.listLinkClick)},n.on.listLinkClick=function(t){t.preventDefault();var e=$(this),i=e.data("target"),o=$(i),r=o.find(n.selectors.TAB_NAV),l=o.parents(n.selectors.LOI_WRAPPER).length&&"ascendingOrder"===o.parents(n.selectors.LOI_WRAPPER).data("order")?"last":"first";if(o.length&&r.length){var s=o.find(n.selectors.TAB_NAV).find("li:"+l+"-of-type a"),c=s.data("target")?s.data("target"):s.attr("href"),d=$("[data-target='"+c+"'], [href='"+c+"']");return d.click(),void d.focus()}n.wrapper=e.closest(n.selectors.LOI_WRAPPER),n.get.activeLink(e),n.set.historyState(e),n.link&&"ajax"===$(n.selectors.LOI_WRAPPER).attr("data-ajax")&&n.load.ajax()},n.ajaxResponse=function(){document.querySelectorAll(n.selectors.LAZY_IMAGES).forEach((function(t){var e=t.dataset.src;e&&t.setAttribute("src",e)}))},n.scrollToActiveLinkInTabList=new Function,t.loi=n}(UX)}}]);
//# sourceMappingURL=loi-827ad30308a5b5105bc0.js.map