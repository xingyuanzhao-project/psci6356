(window.webpackJsonp=window.webpackJsonp||[]).push([[31],{470:function(e,t,i){var s,c=i(16);s={$body:$("body"),categoriesContainer:$(".journals-categories"),widget:null,disciplines:null,subjects:null,disciplinesInput:null,subjectsInput:null,actionRedirect:"/action/showPublications",selectedDiscipline:"",selectedSubject:"",selectors:{JOURNALS_CATEGORIES:".journals-categories",DISCIPLINES:".journals-categories__disciplines",SUBJECTS:".journals-categories__subjects",DROPDOWN_TOGGLE:".dropdown-toggle",SUBMIT:'[name="submit"]',INPUT:"input"},classes:{disabled:"disabled"},texts:{ALL_SUBJECTS:"All subjects"},init:function init(){this.widget=document.querySelector(this.selectors.JOURNALS_CATEGORIES),this.widget&&(this.disciplines=this.widget.querySelector(this.selectors.DISCIPLINES),this.subjects=this.widget.querySelector(this.selectors.SUBJECTS),this.disciplinesInput=this.disciplines.querySelector(this.selectors.INPUT),this.subjectsInput=this.subjects.querySelector(this.selectors.INPUT),this.getSelectedDiscipline(),this.getSelectedSubject(),this.selectedSubject=this.subjectsInput.value,this.control())},control:function control(){$(this.disciplinesInput).on("change",this.on.disciplinesChange.bind(this)),$(this.subjectsInput).on("change",this.on.subjectsChange.bind(this));var e=this.widget.querySelector(this.selectors.SUBMIT);$(e).on("click",this.on.submitClick.bind(this))},on:{disciplinesChange:function disciplinesChange(e){this.getSelectedDiscipline(),this.rebuildSubjects()},subjectsChange:function subjectsChange(e){this.getSelectedSubject()},submitClick:function submitClick(e){if(this.getSelectedDiscipline(),this.getSelectedSubject(),this.selectedDiscipline){if(this.selectedSubject)return void(window.location.href=this.actionRedirect+"?".concat(this.widget.getAttribute("data-urlparam"),"=")+this.selectedSubject);window.location.href=this.actionRedirect+"?".concat(this.widget.getAttribute("data-urlparam"),"=")+this.selectedDiscipline}else window.location.href=this.actionRedirect}},getSelectedDiscipline:function getSelectedDiscipline(){this.selectedDiscipline=this.disciplinesInput.value},getSelectedSubject:function getSelectedSubject(){this.selectedSubject=this.subjectsInput.value},rebuildSubjects:function rebuildSubjects(){var e=this,t=this.subjects.querySelector(this.selectors.DROPDOWN_TOGGLE);this.subjects.querySelector('.dropdown-item[data-value=""]').click(),""===this.selectedDiscipline?(t.setAttribute("disabled","true"),t.setAttribute("aria-disabled","true")):(t.removeAttribute("disabled"),t.removeAttribute("aria-disabled")),c(this.subjects.querySelectorAll(".dropdown-item")).forEach((function(t){t.classList.add("d-none"),t.dataset.parent===e.selectedDiscipline&&t.classList.remove("d-none")}))}},UX.journalsCategories=s}}]);
//# sourceMappingURL=journalsCategories-198f5eb51387a9205341.js.map