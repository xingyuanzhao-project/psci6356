(window.webpackJsonp=window.webpackJsonp||[]).push([[22],{476:function(e,a,i){"use strict";i.r(a),i.d(a,"default",(function(){return s}));var r=i(3),n=i.n(r),t=i(4),l=i.n(t),s=function(){return l()((function DownloadMarcForm(e){n()(this,DownloadMarcForm),this._format=void 0,this._type=void 0,this._recipient=void 0,this.form=e,this.init()}),[{key:"init",value:function init(){this.reportFields(),this.formatFields(),this.recipientFields(),this.formSubmit()}},{key:"_convertToArray",value:function _convertToArray(e){return e?Array.prototype.slice.call(e):[]}},{key:"reportFields",value:function reportFields(){var e=this;this._convertToArray(this.form.report).forEach((function(a){return a.addEventListener("change",e._handleTypeRadioChange.bind(e))}))}},{key:"_handleTypeRadioChange",value:function _handleTypeRadioChange(e){this._type={allJournals:"all Journals",allBooks:"all Books",allSubscribedJournals:"all Subscribed Journals",allPurchasedBooks:"all Purchased Books",allReferenceWorks:"all Reference Works",purchasedReferenceWorks:"purchased Reference Works",isbn_list:"ISBN List"}[e.currentTarget.id],this._handleISBNTextarea(e.currentTarget),this._handleDateRange(e.currentTarget)}},{key:"_handleISBNTextarea",value:function _handleISBNTextarea(e){var a=this.form,i=a.isbn_list,r=a.isbn,n=a.report_isbnList;n&&(i===e?(n.classList.remove("hidden"),r.disabled=!1,r.focus()):(n.classList.add("hidden"),r.disabled=!0))}},{key:"_handleDateRange",value:function _handleDateRange(e){var a=this.form,i=a.allBooks,r=a.allPurchasedBooks,n=a.allReferenceWorks,t=a.purchasedReferenceWorks,l=a.report_period,s=a["start-date"],d=a["end-date"];l&&(i===e||r===e||n===e||t===e?(l.classList.remove("hidden"),s.disabled=!1,d.disabled=!1):(l.classList.add("hidden"),s.disabled=!0,d.disabled=!0))}},{key:"formatFields",value:function formatFields(){var e=this;this._convertToArray(this.form.format).forEach((function(a){return a.addEventListener("change",e._handleFormatRadioChange.bind(e))}))}},{key:"_handleFormatRadioChange",value:function _handleFormatRadioChange(e){this._format={marc:"MARC",xml:"XML"}[e.currentTarget.id]}},{key:"recipientFields",value:function recipientFields(){var e=this;this._convertToArray(this.form.recipient).forEach((function(a){return a.addEventListener("change",e._handleEmailRadioChange.bind(e))}));this.form.userEmail.addEventListener("keyup",(function recipientUpdateValue(a){var i=e.form,r=i.userInput,n=i.userEmail,t=i.email;r.checked&&(t.value=n.value),e._recipient=a.target.value}))}},{key:"_handleEmailFields",value:function _handleEmailFields(e){var a=this.form,i=a.userInput,r=a.email,n=a.userEmail;i===e?(n.disabled=!1,n.focus(),r.value=n.value):(n.disabled=!0,r.value=e.value)}},{key:"_handleEmailRadioChange",value:function _handleEmailRadioChange(e){var a={userInput:this.form.userEmail.value,allAdmins:"all Administrators"};this._recipient=a[e.currentTarget.id],this._handleEmailFields(e.currentTarget)}},{key:"formSubmit",value:function formSubmit(){this.form.addEventListener("submit",this._handleSubmit.bind(this))}},{key:"_handleSubmit",value:function _handleSubmit(){var e=this.form,a=e.isbn,i=e.recipient,r=e.userEmail;a.value=a.value.replace(/\r\n/g,"\n").split("\n").toString(),i[0].disabled="disabled",i[1].disabled="disabled",r.disabled="disabled"}}])}()}}]);
//# sourceMappingURL=download-marc-form-v2-496b5848969785e2fcf8.js.map