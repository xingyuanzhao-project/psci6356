(window.webpackJsonp=window.webpackJsonp||[]).push([[8],{791:function(t,r){},804:function(t,r,a){var i=a(148);t.exports=function template(t){var r,a="",o={},l=t||{};return function(t,l,c,d,u){var p={accordionTrigger:!0,accordionLink:!0,link:!0},v={accordionTrigger:l.ICON_PLUS,accordionLink:l.ICON_RETURN,link:l.ICON_RETURN},h={accordionTrigger:"",accordionLink:"",link:""};v=t.assign(v,{link:null}),h=t.assign(h,{accordionTrigger:"btn btn-outline-secondary",link:"btn btn-outline-secondary"}),o.menuBtnContent=r=function pug_interp(){this&&this.block,this&&this.attributes;var t="accordionTrigger",r=v[t];p[t]&&r&&(a=a+"<i"+i.attr("class",i.classes([r],[!0]),!1,!0)+' aria-hidden="true"></i>'),a=a+'<span class="accordion__toggle__title"'+i.attr("data-expand-title",d[u+"Hide"],!0,!0)+i.attr("data-collapsed-title",d[u+"Show"],!0,!0)+"></span>",!p[t]&&r&&(a=a+"<i"+i.attr("class",i.classes([r],[!0]),!1,!0)+' aria-hidden="true"></i>')},o.xrefLinkContent=r=function pug_interp(t,o){this&&this.block,this&&this.attributes;var l=o?"link":"accordionLink",c=v[l];p[l]&&c&&(a=a+"<i"+i.attr("class",i.classes([c],[!0]),!1,!0)+' aria-hidden="true"></i>'),a=a+"<span>"+i.escape(null==(r=o||t.content)?"":r)+"</span>",!p[l]&&c&&(a=a+"<i"+i.attr("class",i.classes([c],[!0]),!1,!0)+' aria-hidden="true"></i>')},o.xrefLink=r=function _pug_interp(t,r,l){this&&this.block,this&&this.attributes;var c=r?h.link:h.accordionLink;t.openInViewer?(a=a+"<button"+(i.attr("class",i.classes(["to-citation",c],[!1,!0]),!1,!0)+i.attr("data-target",t.href,!0,!0)+i.attr("data-index",t.index,!0,!0))+' data-open="viewer"'+i.attr("role",l,!0,!0)+">",o.xrefLinkContent(t,r),a+="</button>"):(a=a+"<a"+(i.attr("class",i.classes(["to-citation",c],[!1,!0]),!1,!0)+i.attr("href",t.href,!0,!0))+' target="_self"'+i.attr("role",l,!0,!0)+">",o.xrefLinkContent(t,r),a+="</a>")},c.points.length>0&&(a+='<div class="to-citation__wrapper">',1===c.points.length?o.xrefLink(c.points[0],d[u+"Goto"]):c.points.length>1&&(a=a+"<button"+(i.attr("class",i.classes(["to-citation__toggle",h.accordionTrigger],[!1,!0]),!1,!0)+i.attr("aria-controls","to-citation__accordion-"+c.id,!0,!0))+' data-trigger="dropdown"'+i.attr("aria-label",d[u+"Toggle"],!0,!0)+">",o.menuBtnContent(),a=a+'</button><div class="to-citation__accordion no-separator"'+i.attr("id","to-citation__accordion-"+c.id,!0,!0)+' role="menu"'+i.attr("aria-label",d[u+"Links"],!0,!0)+'><ul role="none">',function(){var t=c.points;if("number"==typeof t.length)for(var r=0,i=t.length;r<i;r++){var l=t[r];a+='<li role="none">',o.xrefLink(l,void 0,"menuitem"),a+="</li>"}else{i=0;for(var r in t){i++;l=t[r];a+='<li role="none">',o.xrefLink(l,void 0,"menuitem"),a+="</li>"}}}.call(this),a+="</ul></div>"),a+="</div>")}.call(this,"Object"in l?l.Object:"undefined"!=typeof Object?Object:void 0,"icons"in l?l.icons:"undefined"!=typeof icons?icons:void 0,"item"in l?l.item:"undefined"!=typeof item?item:void 0,"texts"in l?l.texts:"undefined"!=typeof texts?texts:void 0,"type"in l?l.type:"undefined"!=typeof type?type:void 0),a}},857:function(t,r,a){"use strict";a.r(r);var i=a(418),o=a(3),l=a.n(o),c=a(4),d=a.n(c),u=a(5),p=a.n(u),v=a(2),h=a.n(v),b=a(8),y=a.n(b),g=a(6),m=a.n(g),S=a(273),k=a.n(S);function _callSuper(t,r,a){return r=h()(r),p()(t,function _isNativeReflectConstruct(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return function _isNativeReflectConstruct(){return!!t}()}()?Reflect.construct(r,a||[],h()(t).constructor):r.apply(t,a))}function _superPropGet(t,r,a,i){var o=y()(h()(1&i?t.prototype:t),r,a);return 2&i&&"function"==typeof o?function(t){return o.apply(a,t)}:o}var w=function(t){function SageCollateral(t,r){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{classNames:{}},i=arguments.length>3?arguments[3]:void 0;return l()(this,SageCollateral),_callSuper(this,SageCollateral,[t,r,a,i])}return m()(SageCollateral,t),d()(SageCollateral,[{key:"initiate",value:function initiate(){_superPropGet(SageCollateral,"initiate",this,3)([]);var t=new CustomEvent("collateralButtons.render");document.body.dispatchEvent(t)}},{key:"buildFigureTab",value:function buildFigureTab(t){if(!this.config.isInEditor){var r=this,a=this.main.querySelector("#"+this.collateralTabIds.media),i=a.querySelector("#"+this.collateralTabIds.mediaFigures),o=a.querySelector("#"+this.collateralTabIds.tables),l=document.createElement("div");l.classList.add("toggle-all-wrapper"),i.appendChild(l),i.notAvailable=!0;var c=function createExpandableItem(t,a){var o=document.createElement("div");o.id="core-"+t,r.collateralTabIds[t]=o.id+"_content";var l=document.createElement("div");l.classList.add("heading"),l.innerHTML="media"===t?"Media":"Figures",o.appendChild(l);var c=document.createElement("div");return c.classList.add("content"),a.length?i.notAvailable=!1:(l.classList.add("inactive"),l.setAttribute("aria-disabled","true")),o.appendChild(c),i.appendChild(o)},d=[c("figures",this.data.figures.graphic),c("media",this.data.figures.media)];try{this.setExpandableBehavior({classes:{COLLAPSED_ICON:"icon-view",EXPANDED_ICON:"icon-hide",TOGGLE_ALL:"collateral-media-control"},selectors:{CONTENT:".content",LIST:d,TRIGGER:".heading",TOGGLE_ALL:".collateral-media-control",TOGGLE_ALL_WRAPPER:l,TOGGLE_TEMPLATE:"collapsible_figures_template"},settings:{TOGGLE_ALL_POSITION:"prepend",FORCE_HYDRATE_TRIGGER:!0,IGNORE_EMPTY:!1}})}catch(t){console.debug("Initiate media expandable behavior",t)}_superPropGet(SageCollateral,"buildFigureTab",this,3)(["figures"]),_superPropGet(SageCollateral,"buildFigureTab",this,3)(["tables"]),_superPropGet(SageCollateral,"buildFigureTab",this,3)(["media"]),i.notAvailable&&o.notAvailable||(a.notAvailable=!1)}}},{key:"manageShareLink",value:function manageShareLink(){var t=this,r=this.config.collateral.share,a=this.main.querySelector(r.selectors.wrapper);if(a){var i=a.querySelector(r.selectors.source),o=a.querySelector(r.selectors.action),l=a.querySelector(r.selectors.terms);l.addEventListener("change",(function(){l.checked?function generateShareUrl(){var t=i.getAttribute("data-doi"),r="";$.ajax({url:"/action/generateShareUrl?doi="+encodeURIComponent(t)+"&format=epub&shareType=P2P",type:"post",data:null,success:function success(t){"authorized"===t.status&&(r=t.shareUrl)},error:function error(t,r,a){console.error("P2P sharing request failed: "+a)}}).done((function(t){r.length?(o.removeAttribute("disabled"),i.innerHTML=r):(o.setAttribute("disabled","disabled"),i.innerHTML="")}))}():(o.setAttribute("disabled","disabled"),i.innerHTML="")})),o.addEventListener("click",(function(a){a.preventDefault(),function copyShareLink(r,a){var i=t.main.querySelector(a.selectors.wrapper),o=null==i?void 0:i.querySelector(a.selectors.status);navigator.clipboard.writeText(r).then((function(){null==o||o.classList.add("success"),setTimeout((function(){null==o||o.classList.remove("success")}),a.delay)}),(function(){null==o||o.classList.add("failed"),setTimeout((function(){null==o||o.classList.remove("failed")}),a.delay)}))}(i.innerHTML,r)}))}}},{key:"addDataIds",value:function addDataIds(){var t=this;_superPropGet(SageCollateral,"addDataIds",this,3)([]),this.dataIds=this.config.enhancements.dataIds,document.body.querySelectorAll('[aria-controls^="abstract-"]').forEach((function(r){return r.setAttribute("data-id",t.dataIds.translated_abstract)}))}}])}(i.b);function _createForOfIteratorHelper(t,r){var a="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!a){if(Array.isArray(t)||(a=function _unsupportedIterableToArray(t,r){if(t){if("string"==typeof t)return _arrayLikeToArray(t,r);var a={}.toString.call(t).slice(8,-1);return"Object"===a&&t.constructor&&(a=t.constructor.name),"Map"===a||"Set"===a?Array.from(t):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?_arrayLikeToArray(t,r):void 0}}(t))||r&&t&&"number"==typeof t.length){a&&(t=a);var i=0,o=function F(){};return{s:o,n:function n(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}},e:function e(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var l,c=!0,d=!1;return{s:function s(){a=a.call(t)},n:function n(){var t=a.next();return c=t.done,t},e:function e(t){d=!0,l=t},f:function f(){try{c||null==a.return||a.return()}finally{if(d)throw l}}}}function _arrayLikeToArray(t,r){(null==r||r>t.length)&&(r=t.length);for(var a=0,i=Array(r);a<r;a++)i[a]=t[a];return i}function SageArticleView_callSuper(t,r,a){return r=h()(r),p()(t,function SageArticleView_isNativeReflectConstruct(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return function _isNativeReflectConstruct(){return!!t}()}()?Reflect.construct(r,a||[],h()(t).constructor):r.apply(t,a))}function SageArticleView_superPropGet(t,r,a,i){var o=y()(h()(1&i?t.prototype:t),r,a);return 2&i&&"function"==typeof o?function(t){return o.apply(a,t)}:o}var _=function(t){function SageArticleView(t){var r,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{classNames:{},selectors:{},msg:{}},i=arguments.length>2?arguments[2]:void 0;return l()(this,SageArticleView),(r=SageArticleView_callSuper(this,SageArticleView,[t,a,i])).collateral=w?new w(t.data,r,a,i):null,r}return m()(SageArticleView,t),d()(SageArticleView,[{key:"initiate",value:function initiate(){SageArticleView_superPropGet(SageArticleView,"initiate",this,3)([]);try{this.stickyVideos()}catch(t){console.error("Failed to setup sticky videos behaviour",t)}try{this.adjustIframes()}catch(t){console.error("Failed to adjust iframes height",error)}}},{key:"adjustIframes",value:function adjustIframes(){var t,r=document.querySelector("article[data-design] iframe[allowfullscreen]");if(r){var a=null===(t=r.getAttribute("src"))||void 0===t?void 0:t.match(/\/height\/(\d+)\//);a&&(r.style.height=a?"".concat(+a[1]+5,"px"):"120px")}}},{key:"tabbedAbstracts",value:function tabbedAbstracts(){var t,r;SageArticleView_superPropGet(SageArticleView,"tabbedAbstracts",this,3)([]);var a=this.getArticle().querySelector('[data-core-tabs="abstracts"]'),i="chapter"===(null==this||null===(t=this.config)||void 0===t||null===(r=t.type)||void 0===r?void 0:r.toLowerCase());if(a){var o=a.querySelectorAll("button[aria-controls]");[].slice.call(o,1).forEach((function(t){t.setAttribute("data-id",i?"chapter-translated-abstract":"article-translated-abstract")}))}}},{key:"enhanceAnchors",value:function enhanceAnchors(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.config.enhancements.bodyPrefix;SageArticleView_superPropGet(SageArticleView,"enhanceAnchors",this,3)([t,""])}},{key:"stickyVideos",value:function stickyVideos(){this.stickyVideosState=new C(this)}},{key:"destroy",value:function destroy(){this.stickyVideosState&&this.stickyVideosState.destroy()}}])}(k.a),C=function(){function StickyVideos(t){l()(this,StickyVideos);var r=document.body.querySelectorAll(StickyVideos.figureSelector),a=new MutationObserver(this.videoUpdated.bind(this)),i={attributes:!0,attributeOldValue:!0};r.forEach((function(t){var r=t.querySelector("video-js");null!==r&&a.observe(r,i)})),this.mutationObserver=a;this.intersectionObserver=new IntersectionObserver(this.videoMoved.bind(this),{threshold:[0,.25,.5,.75,1],rootMargin:"-170px 0% 0% 0%"}),this.articleView=t}return d()(StickyVideos,[{key:"videoUpdated",value:function videoUpdated(t){var r,a=_createForOfIteratorHelper(t);try{for(a.s();!(r=a.n()).done;){var i=r.value;if("attributes"===i.type){var o=i.target,l=o.closest(StickyVideos.figureSelector),c=l.offsetHeight,d=i.oldValue.split(" ").includes(StickyVideos.videoStartedClass),u=o.classList.contains(StickyVideos.videoStartedClass);u&&!d?(l.style.height=c+"px",this.intersectionObserver.observe(l)):d&&!u&&this.clearStickyAndTracking(o,l)}}}catch(t){a.e(t)}finally{a.f()}}},{key:"clearStickyAndTracking",value:function clearStickyAndTracking(t,r){this.intersectionObserver.unobserve(r),this.removeSticky(t,r),r.style.height=null}},{key:"videoMoved",value:function videoMoved(t){var r=this;t.forEach((function(t){var a=t.target,i=a.querySelector("video-js");console.log(t.intersectionRatio),t.intersectionRatio<1?r.makeSticky(i,a):r.removeSticky(i,a)}))}},{key:"wrapVideo",value:function wrapVideo(t){if(null==t.closest("."+StickyVideos.wrapperClassName)){var r=this.createWrapperElement();t.replaceWith(r),this.removeStickyListener=function(t){var r=t.target.closest(StickyVideos.figureSelector),a=r.querySelector("video-js");this.clearStickyAndTracking(a,r)}.bind(this),r.querySelector(StickyVideos.closeButtonSelector).addEventListener("click",this.removeStickyListener),r.querySelector(StickyVideos.videoContentSelector).appendChild(t)}}},{key:"createWrapperElement",value:function createWrapperElement(){var t='\n            <div class="'.concat(StickyVideos.wrapperClassName,'">\n                <div class="video-content">\n                </div>\n                <div class="controls">\n                    <button type="button" class="close-video" name="close" aria-label="close"><span class="icon-close"></span></button>\n                </div>\n            </div>\n        ').trim();return(new DOMParser).parseFromString(t,"text/html").body.childNodes[0]}},{key:"unwrapVideo",value:function unwrapVideo(t){var r=t.closest("."+StickyVideos.wrapperClassName);null!==r&&(r.querySelector(StickyVideos.closeButtonSelector).removeEventListener("click",this.removeStickyListener),r.replaceWith(t))}},{key:"makeSticky",value:function makeSticky(t,r){this.wrapVideo(t),r.classList.add(StickyVideos.stickyVideoClass),this.articleView.subscribe("scroll",(function(){var r=document.body.querySelector("[data-core-nav='header']"),a=r.getBoundingClientRect().top,i=r.getBoundingClientRect().height,o=t.closest("."+StickyVideos.wrapperClassName);o.style.top=a+i+"px",o.style.margin="1rem 0"}))}},{key:"removeSticky",value:function removeSticky(t,r){this.unwrapVideo(t),r.classList.remove(StickyVideos.stickyVideoClass)}},{key:"destroy",value:function destroy(){this.mutationObserver.disconnect(),this.intersectionObserver.disconnect()}}])}();C.videoStartedClass="vjs-has-started",C.figureSelector='figure[data-position="sticky"]',C.stickyVideoClass="sticky-video",C.wrapperClassName="sticky-video-wrapper",C.closeButtonSelector=".controls .close-video",C.videoContentSelector=".video-content";var L,O,A,V,T,E,I,j,P,x,N,R,G,D,q,M=a(13),B=a.n(M),H=a(802);function ownKeys(t,r){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);r&&(i=i.filter((function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable}))),a.push.apply(a,i)}return a}function _objectSpread(t){for(var r=1;r<arguments.length;r++){var a=null!=arguments[r]?arguments[r]:{};r%2?ownKeys(Object(a),!0).forEach((function(r){B()(t,r,a[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):ownKeys(Object(a)).forEach((function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(a,r))}))}return t}var U=H.a;U.articlePageHeader.removeFixedStatus=!0,U.citations.pointTo="body",U.collapsible.textKeys=[],U.collateral.affiliationsTitle="",U.collateral.figures.graphic.linkOpenAllinViewer.enabled=!1,U.collateral.figures.table.linkOpenAllinViewer.enabled=!1,U.collateral.figures.media.renderContent=!0,U.collateral.figures.all.addWrapper=!1,U.collateral.figures.all.linkToContent.icon=void 0,U.collateral.figures.all.linkToContent.classList="btn btn-outline-primary",U.collateral.figures.all.linkToViewer.classList="btn btn-outline-primary",U.collateral.permissions.linkSelector='[href*="copyright"]',U.collateral.s.paneIds=_objectSpread(_objectSpread({},H.a.collateral.s.paneIds),{},{mediaFigures:"tab-figuresAndMedia",tables:"tab-tables"}),U.enhancements.addDataIds=!0,U.enhancements.dataIds=_objectSpread(_objectSpread({},H.a.enhancements.dataIds),{},{contributors:"chapter"===(null==U||null===(L=U.type)||void 0===L?void 0:L.toLowerCase())?"chapter-meta-viewall-authors":"article-meta-viewall-authors",authors_view_all:"chapter"===(null==U||null===(O=U.type)||void 0===O?void 0:O.toLowerCase())?"chapter-meta-viewall-authors":"article-meta-viewall-authors",information:"chapter"===(null==U||null===(A=U.type)||void 0===A?void 0:A.toLowerCase())?"chapter-collateral-tab-info":"article-collateral-tab-info",translated_abstract:"chapter"===(null==U||null===(V=U.type)||void 0===V?void 0:V.toLowerCase())?"chapter-translated-abstract":"article-translated-abstract",info:"chapter"===(null==U||null===(T=U.type)||void 0===T?void 0:T.toLowerCase())?"chapter-toolbar-info":"article-toolbar-info",metrics:"chapter"===(null==U||null===(E=U.type)||void 0===E?void 0:E.toLowerCase())?"chapter-toolbar-metrics":"article-toolbar-metrics",citations:"chapter"===(null==U||null===(I=U.type)||void 0===I?void 0:I.toLowerCase())?"chapter-toolbar-cite":"article-toolbar-cite",media:"chapter"===(null==U||null===(j=U.type)||void 0===j?void 0:j.toLowerCase())?"chapter-toolbar-figures":"article-toolbar-figures",mediaTables:"chapter"===(null==U||null===(P=U.type)||void 0===P?void 0:P.toLowerCase())?"chapter-figures-tables-tab":"article-figures-tables-tab",purchaseAccess:"article-toolbar-get-access",share:"chapter"===(null==U||null===(x=U.type)||void 0===x?void 0:x.toLowerCase())?"chapter-toolbar-share":"article-toolbar-share",selfCitation:"chapter"===(null==U||null===(N=U.type)||void 0===N?void 0:N.toLowerCase())?"chapter-toolbar-cite":"article-toolbar-cite",references:"chapter"===(null==U||null===(R=U.type)||void 0===R?void 0:R.toLowerCase())?"chapter-pill-references":"article-pill-references",more:"chapter"===(null==U||null===(G=U.type)||void 0===G?void 0:G.toLowerCase())?"chapter-toolbar-more":"article-toolbar-more",mediaFigures:"chapter"===(null==U||null===(D=U.type)||void 0===D?void 0:D.toLowerCase())?"chapter-collateral-tab-figures":"article-collateral-tab-figures",tables:"chapter"===(null==U||null===(q=U.type)||void 0===q?void 0:q.toLowerCase())?"chapter-collateral-tab-tables":"article-collateral-tab-tables"}),U.figures.media.linkToViewer.enabled=!0,U.figures.all.linkToViewerAlt.enabled=!1,U.figureViewer.removeUnusedElements.mediaTab=!0,U.icons=_objectSpread(_objectSpread({},H.a.icons),{},{ICON_ACCORDION_COLLAPSED:"icon-view",ICON_ACCORDION_EXPANDED:"icon-hide",ICON_PURCHASE_ACCESS:"icon-lock-alt"}),U.pill.containIntoView=!1,U.pill.scrollIndicator=!1,U.sectionsNavbar.containIntoView=!1,U.stickyHeader.enable=!1;var K=U;function templates_ownKeys(t,r){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);r&&(i=i.filter((function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable}))),a.push.apply(a,i)}return a}function templates_objectSpread(t){for(var r=1;r<arguments.length;r++){var a=null!=arguments[r]?arguments[r]:{};r%2?templates_ownKeys(Object(a),!0).forEach((function(r){B()(t,r,a[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):templates_ownKeys(Object(a)).forEach((function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(a,r))}))}return t}var W=templates_objectSpread(templates_objectSpread({},a(803).a),{},{xrefLinks:a(804)});Object(i.c)({ArticleStore:i.a,ArticleView:_,config:K,templates:W})}}]);
//# sourceMappingURL=axel-publication-content-874b004f0f1270f25d3a.js.map